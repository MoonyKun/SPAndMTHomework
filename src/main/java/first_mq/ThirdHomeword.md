# 第三次 消息中间件作业 
   
## 1.什么是消息中间件MOM，用英文回答   
**Message-oriented middleware (MOM) is software infrastructure supporting sending and receiving messages between distributed systems.**    
   
## 2.描述MOM的主要应用场景。   
a.软件基础设施（支持在分布式系统之间发送和接收消息）；   
b.集成应用模块(组件)，减少开发组件的复杂性（跨平台和协议）；   
c.创建通信层，并提供通用的API。(JMS)   
   
## 3.认真阅读《分布式消息中间件实践.pdf》第一章消息队列1.4，请设计一个自己的消息队列系统。要求：
### 1.请写出三种Java创建线程的方式。   
a.通过实现 Runnable 接口；   
b.通过继承 Thread 类本身；   
c.通过 Callable 和 Future 创建线程。   
   
### 2.简单说明消息服务中Broker的作用。   
答：负责消息的接受，存储，转发等   

### 3.针对《分布式消息中间件实践.pdf》中消息队列示例，你认为那些方面还可以改进？   
在以下的方面可以进一步的改进   
**a.消息堆积：**   
根据消息队列的生产者、消费者处理模型来分析，因为生产者和消费者是两个分开处理消息的系统，
所以无法预知两者对消息处理速度的快慢，一旦在某个时间段消费者处理消息的速 度没有跟上生产者发送消息的速度，必将导致消息在处理中心逐渐积压而得不到释放。 
因此，有时需要消息队列产品能够处理这种情况，比如给消息队列设置一个阀值，
将超过阔值的消息 不再放入处理中心，以防止系统资源被耗尽，导致机器挂掉甚至整个消息队列不可用   
**b.消息持久化：**   
在设计一个消息队列时，如果消息到达消息处理中心后不做任何处理就直接转给消费者，
那么消息处理中心也就失去了存在的意义，无法满足流量削峰等需求。
所以常规的做法是先将消息暂存下来，然后选择合适的时机将消息投递给消费者。
消息暂存可以选择将消息放在内存中，也可以选择放到文件、数据库等地方。
将消息放在内存中存在的最大问题是一旦机器岩 掉消息将丢失。
如果场景需要消息不能丢失，那么势必要将消息持久化。持久化方案有很多种，
比如将消息存到本地文件、分布式文件系统、数据库系统中等。   
**c.消息重复：**   
有些消息队列为了支持消息可靠投递，会选择在接收到消息后先持久化到本地，然后发送给消费者。
当消息发送失败或者不知道是否发送成功时(比如超时)，消息的状态是待发送，定时任务不停地轮询所有的待发送消息，
最终保证消息不会丢失，这就带来了消息可能会重复的问题。
其实并不是所有场景都需要消息可靠投递.    

### 4.参考消息队列示例，设计并实现MyFirstMQ。   
代码见库   

